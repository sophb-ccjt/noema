<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Project Noema - PRISM Open Development</title>
        <link rel="stylesheet" href="css.css" />
        <link rel="icon" id='favicon' href="./prism_logo_color.png"/>
    </head>

    <body>
        <script src="./js/preinit.js"></script>
        <script src="./js/preloader.js"></script>

        <div id="outer-ui" style='display: none;'>
            <div class="time-bar">
                <span id="clock">
                    <svg id="hourhand" height="24" width="24">
                        <line x1="12" y1="13" x2="12" y2="4" style="stroke:#fff;stroke-width:3">
                    </svg>
                    <svg id="minhand" height="24" width="24">
                        <line x1="12" y1="13" x2="12" y2="0" style="stroke:#fff;stroke-width:3">
                    </svg>
                    <svg id="sechand" height="24" width="24">
                        <line id="sechand-line" x1="12" y1="14" x2="12" y2="0" style='stroke-width:2' stroke='#f00'>
                    </svg>
                </span>
                <a id='time' class="time"></a>
            </div>
            <div style='
                position: fixed;
                bottom: 10px;
                left: 10px;
                display: flex;
                flex-direction: row;
                gap: 15px;
                align-items: center;
                overflow: visible;
            '
            id="battery-div">
                <div class="battery">
                    <div style='
                        display: block;
                        width: 100%;
                        height: 20px;
                        background-color: #fff0;
                        position: absolute;
                        transition:
                        background-color 3s ease,
                        width 1s ease;
                        z-index: calc(-infinity);
                    '
                    id="battery-bar"></div>
                    <!-- <div style='
                        display: block;
                        width: 5px;
                        height: 15px;
                        position: relative;
                        left: 100%;
                        transform: translate(100%, 50%);
                        border-radius: 0px 10px 10px 0px;
                    '></div> -->
                </div>

                <a id='battery-text' style="
                    font-size: 16px;
                    color: #fff; 
                    font-family: 'Manrope', monospace;
                    font-weight: bolder;
                    font-size: 20px
                ">???%</a>
            </div>   
            <span id='debug-ui' style='display: none;'>
                <a id='version-number' class='version' style="bottom: 30px; border-radius: 15px 15px 0px 15px;"></a>
                <a class='version'>2026 PRISM Open Development</a>
                <a id="fps">FPS: ???</a>
                <a id="errors">Errors: 0</a>
            </span>
        </div>
        
        <div id="global-overlay"></div>
        <div class="loading">
            <a id="clicktostart"
                style="color: #fff; opacity: 10%; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 5vw; font-family: monospace; transition: opacity .5s ease;">
                loading page, please wait
            </a>
            <div id="loading-bar">
                <span id="loading-progress"></span>
            </div>
        </div>

        <img id='startup-logo' src="./noema_logo_color.png"
            style="filter: drop-shadow(0px 0px 25px #fff); position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); height: 50vh; transition: opacity 1s ease-in, height 1.5s ease; opacity: 0%; z-index: 100;" />
        <a id='startup-text'
            style="text-shadow: 0px 0px 15px #000; color: #fff; font-family: 'Manrope', monospace; font-weight: bolder; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 5vw; transition: opacity .5s ease-out, height 1.5s ease, top 1.5s ease, text-shadow .5s ease-out; opacity: 0%; z-index: 100;">
            Noema
        </a>
        <div class="ui" id='ui'>
            <div id="ui-options" class='ui-options'></div>
            <div id="ui-contents"></div>

            <a class='infolabel' id='info'></a>
            <svg class='more-arrow' style="left: 30px;" width="32" height='32' id="more-left">
                <defs>
                    <linearGradient id="gradleft" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="25%" stop-color="#fffb" />
                        <stop offset="100%" stop-color="#fff0" />
                    </linearGradient>
                </defs>
                <polygon points="0,16 32,0 32,32" fill="url(#gradleft)" />
            </svg>
            <svg class='more-arrow' style="right: 30px;" width="32" height='32' id="more-right">
                <defs>
                    <linearGradient id="gradright" x1="100%" y1="0%" x2="0%" y2="0%">
                        <stop offset="25%" stop-color="#fffb" />
                        <stop offset="100%" stop-color="#fff0" />
                    </linearGradient>
                </defs>
                <polygon points="0,0 0,32 32,16" fill="url(#gradright)" />
            </svg>
        </div>
        
        <div class="loadingdiv">
            <svg width="256" height="256" xmlns="http://www.w3.org/2000/svg" id='loading-wheel' class="loadingwheel">
                <polygon points="192,21 256,128 192,235 64,235 0,128 64,21" fill='transparent' stroke='white' stroke-width="10"/>
            </svg>
        </div>

        <div id="game-screen"></div>
        
        <div id='notif-div' class='notif-div'></div>

        <div class='band-dialog' id='custom-dialog'>
            <h1 id='custom-title' style="color: #fff; font-family: 'Manrope';"></h1>
            <span id="custom-subtitle" style="display: none;">
                <a id="custom-subtitle-text" style="color: #fff; font-family: 'Manrope'; white-space: pre-wrap;"></a>
                <br>
                <br>
            </span>
            <div id="custom-items"></div>
            <a id='custom-controls' style="color: #fff; font-family: 'Manrope';">
                Press Enter to confirm and press Escape to cancel.
            </a>
        </div>

        <canvas id="bg" class='spaghetti'></canvas>

        <span id="darken" class="darken"></span>
    </body>
</html>